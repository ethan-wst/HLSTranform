# HLS Configuration for Llama2 U50 Implementation
[hls]
# Target the exact U50 part you specified
part=xcu50-fsvh2104-2-e

# Conservative clock settings for initial compilation
clock=6ns
clock_uncertainty=1.5ns

# Specify this is for Vitis flow
flow_target=vitis

# Source files
syn.file=src/forward.cpp
syn.file=src/forward.h
syn.file=src/typedefs.h
syn.file=src/config.h
syn.top=forward

# Output as Xilinx Object file for linking
syn.output.format=xo

# Compilation settings optimized for your model size
compile.max_files_to_process=4
compile.unsafe_math_optimizations=false

# Interface settings optimized for HBM access patterns
interface.m_axi_alignment_byte_size=64
interface.m_axi_latency=64
interface.m_axi_max_widen_bitwidth=512

# Memory settings for large arrays
config.array_partition.auto_promote_threshold=1024
config.array_partition.auto_complete_threshold=256

# Enable automatic caching for repeated memory accesses
config.array_partition.include_deps_for_throughput_calcuation=true

# Dataflow settings
config.dataflow.default_channel=fifo
config.dataflow.fifo_depth=2

# Schedule settings to help with timing
config.schedule.effort=medium